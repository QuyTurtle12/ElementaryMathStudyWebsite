@page
@using System.Globalization
@model ElementaryMathStudyWebsite.RazorPage.Pages.PurchasePages.TransactionResultModel

@if (Model.vnPayResponse.VnPayResponseCode == "00")
{
	<div class="transaction-result success">
		<div class="icon-circle">
			<span class="icon">&#10003;</span> <!-- Check icon for success -->
		</div>
		<h1>Giao dịch thành công</h1>

		<p class="transaction-fee"><strong>@Model.userCart.TotalPrice.ToString("C", new CultureInfo("vi-VN"))</strong></p>
		<div class="transaction-details">
			<div class="transaction-detail-item">
				<span class="detail-title"><strong>Thời gian thanh toán:</strong></span>
				<span class="detail-value">@Model.userCart.LastUpdatedTime.ToString("HH:mm - dd/MM/yyyy", new System.Globalization.CultureInfo("vi-VN"))</span>
			</div>
			<div class="transaction-detail-item">
				<span class="detail-title"><strong>Mã giao dịch:</strong></span>
				<span class="detail-value">@Model.vnPayResponse.OrderId</span>
			</div>
		</div>
		<a href="/" class="back-button">Trở về trang chủ</a>
	</div>

}
else
{
	<div class="transaction-result failure">
		<div class="icon-circle">
			<span class="icon">&#10005;</span> <!-- "X" icon for failure -->
		</div>
		<h1>Giao dịch thất bại</h1>
		<a href="/" class="back-button">Trở về trang chủ</a>
	</div>

}
<style>

	.transaction-result {
		max-width: 500px;
		margin: 50px auto;
		padding: 20px;
		text-align: center;
		border-radius: 8px;
		font-family: Arial, sans-serif;
		box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
		position: relative;
	}

	.icon-circle {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		width: 80px;
		height: 80px;
		border-radius: 50%;
		margin: 0 auto 15px auto;
	}

	.icon {
		font-size: 40px;
		color: white;
	}

	.transaction-result.success .icon-circle {
		background-color: #2d8a5f;
	}

	.transaction-result.failure .icon-circle {
		background-color: #d9534f;
	}

	.transaction-fee {
		font-size: 1.5em;
		color: #2d8a5f;
		margin: 10px 0;
	}

	.transaction-result h1 {
		font-size: 24px;
		margin-bottom: 10px;
	}

	.transaction-details {
		font-size: 16px;
		color: #555;
		margin-bottom: 20px;
		text-align: left;
	}

		.transaction-details p {
			margin: 5px 0;
		}

	.transaction-result.success {
		background-color: #e6ffed;
		color: #2d8a5f;
		border: 1px solid #2d8a5f;
	}

	.transaction-result.failure {
		background-color: #ffe6e6;
		color: #d9534f;
		border: 1px solid #d9534f;
	}

	.transaction-details {
		font-size: 16px;
		color: #555;
		margin-bottom: 20px;
	}

	.transaction-detail-item {
		display: flex;
		justify-content: space-between;
		margin: 5px 0;
	}

	.detail-title {
		text-align: left;
	}

	.detail-value {
		text-align: right;
	}

	.back-button {
		display: inline-block;
		padding: 10px 20px;
		color: #fff;
		text-decoration: none;
		border-radius: 4px;
		transition: background-color 0.3s ease;
	}

	.success .back-button {
		background-color: #2d8a5f;
	}

	.failure .back-button {
		background-color: #d9534f;
	}

	.back-button:hover {
		background-color: #333;
	}
</style>